
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ - Elegance Solutions</title>
    <style>
        body { font-family: sans-serif; background-color: #f0f0f0; text-align: center; padding-top: 50px; }
        .audio-box {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        audio { width: 100%; margin-top: 15px; }

        /* ìŠ¤íŠ¸ë¦¼ ë¹„ë””ì˜¤ ë° MJPEG ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ í†µí•© */
        .stream-content {
            display: none; /* ì´ˆê¸°ì— ìˆ¨ê¹€ */
            margin: 0 auto 30px;
            width: 100px; /* ìš”ì²­í•˜ì‹  100px ë„ˆë¹„ */
            height: 120px; /* ìš”ì²­í•˜ì‹  120px ë†’ì´ */
            object-fit: cover;
            border: 5px solid #333;
            border-radius: 10px;
            box-shadow:
                inset 0 0 8px rgba(0, 0, 0, 0.6),
                inset 0 0 0 3px #555;
            background-color: #000;
        }

        /* ì´ë¯¸ì§€ ë° ìŠ¤íŠ¸ë¦¼ í† ê¸€ ë§í¬ ì»¨í…Œì´ë„ˆ */
        .toggle-links {
            display: flex;
            justify-content: center; /* ê°€ìš´ë° ì •ë ¬ */
            gap: 20px; /* ë§í¬ ì‚¬ì´ì˜ ê°„ê²© */
            margin-top: 10px;
        }

        /* ë§í¬ ìŠ¤íƒ€ì¼ */
        .toggle-links span {
            color: #A98054;
            cursor: pointer;
            text-decoration: underline;
        }

        .audio-box h1 {
            margin-top: 0;
        }

    </style>
</head>
<body>
    <div class="audio-box">

        <img src="http://125.251.58.88:8090/test.mpjpeg"
             alt="ì‹¤ì‹œê°„ ì´ë¯¸ì§€ ìŠ¤íŠ¸ë¦¼"
             class="stream-content"
             id="mjpegImage">

        <iframe id="srsStreamIframe"
                class="stream-content"
                style="border:none;"
                title="SRS Live Stream"
                allow="autoplay; fullscreen"
                src="">
        </iframe>

        <h1>ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ì¬ìƒ ì¤‘ ğŸ”Š</h1>
        <p>ìŠ¤íŠ¸ë¦¼ ì„œë²„ì—ì„œ ì§ì ‘ ì œê³µë˜ëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤. ë³´ì•ˆ ê²½ê³ ê°€ ë‚˜íƒ€ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

        <div class="toggle-links">
            <span id="toggleImageLink">ì´ë¯¸ì§€ ë³´ê¸°</span>
            <span id="toggleStreamLink">ìŠ¤íŠ¸ë¦¼ ë³´ê¸°</span>
        </div>

        <audio id="streamPlayer" controls preload="none"></audio>

        <p><a href="https://pip49.github.io/index.html">ë©”ì¸ í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</a></p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const audioPlayer = document.getElementById('streamPlayer');
            const mjpegImage = document.getElementById('mjpegImage');
            const srsStreamIframe = document.getElementById('srsStreamIframe');

            const toggleImageLink = document.getElementById('toggleImageLink');
            const toggleStreamLink = document.getElementById('toggleStreamLink');

            const streamUrl = 'http://125.251.58.88:8090/test.wav';
            // ğŸš¨ ì´ URLì„ ì‹¤ì œ ë„ì»¤ SRS ìŠ¤íŠ¸ë¦¼ URLë¡œ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.
            // SRSëŠ” ì¼ë°˜ì ìœ¼ë¡œ RTMP/HLS/WebRTCë¥¼ ì œê³µí•˜ë©°, FLVëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì¬ìƒí•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.
            // í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì„ì‹œë¡œ í”Œë ˆì´ì–´ê°€ ìˆëŠ” í˜ì´ì§€ URLì„ ë„£ì–´ì£¼ì„¸ìš”.
            const srsStreamUrl = 'http://125.251.58.88:1935/live/my_stream2.m3u8'; // âš ï¸ ì´ ë¶€ë¶„ì„ ë³€ê²½í•˜ì„¸ìš”!

            // 1. ì˜¤ë””ì˜¤ ë¡œë“œ ë° ì¬ìƒ ì‹œë„
            audioPlayer.src = streamUrl;
            audioPlayer.load();

            audioPlayer.play().catch(error => {
                // ìë™ ì¬ìƒ ì‹¤íŒ¨ ì²˜ë¦¬
            });

            // ëª¨ë“  ìŠ¤íŠ¸ë¦¼ ì»¨í…ì¸ ë¥¼ ìˆ¨ê¸°ëŠ” í•¨ìˆ˜ (ë‹¤ë¥¸ í•˜ë‚˜ë¥¼ ë³´ì´ê¸° ì „ì— í˜¸ì¶œ)
            function hideAllStreamContent() {
                mjpegImage.style.display = 'none';
                srsStreamIframe.style.display = 'none';
                srsStreamIframe.src = ''; // iframe ì†ŒìŠ¤ ì´ˆê¸°í™” (ìŠ¤íŠ¸ë¦¼ ì¤‘ì§€)
                toggleImageLink.textContent = 'ì´ë¯¸ì§€ ë³´ê¸°';
                toggleStreamLink.textContent = 'ìŠ¤íŠ¸ë¦¼ ë³´ê¸°';
            }

            // 2. 'ì´ë¯¸ì§€ ë³´ê¸°' ê¸°ëŠ¥ êµ¬í˜„
            toggleImageLink.addEventListener('click', function() {
                if (mjpegImage.style.display === 'none') {
                    // ì´ë¯¸ì§€ê°€ ìˆ¨ê²¨ì ¸ ìˆìœ¼ë©´ ë³´ì´ê²Œ í•¨
                    hideAllStreamContent(); // ë‹¤ë¥¸ ê²ƒì„ ë¨¼ì € ìˆ¨ê¹€
                    mjpegImage.style.display = 'block';
                    toggleImageLink.textContent = 'ì´ë¯¸ì§€ ìˆ¨ê¸°ê¸°';
                } else {
                    // ì´ë¯¸ì§€ê°€ ë³´ì´ë©´ ìˆ¨ê¹€
                    mjpegImage.style.display = 'none';
                    toggleImageLink.textContent = 'ì´ë¯¸ì§€ ë³´ê¸°';
                }
            });

            // 3. 'ìŠ¤íŠ¸ë¦¼ ë³´ê¸°' ê¸°ëŠ¥ êµ¬í˜„ (ìš”ì²­í•˜ì‹  ë¶€ë¶„)
            toggleStreamLink.addEventListener('click', function() {
                if (srsStreamIframe.style.display === 'none') {
                    // ìŠ¤íŠ¸ë¦¼ì´ ìˆ¨ê²¨ì ¸ ìˆìœ¼ë©´ ë³´ì´ê²Œ í•¨
                    hideAllStreamContent(); // ë‹¤ë¥¸ ê²ƒì„ ë¨¼ì € ìˆ¨ê¹€
                    srsStreamIframe.style.display = 'block';
                    // iframeì— ìŠ¤íŠ¸ë¦¼ URLì„ ë¡œë“œí•˜ì—¬ ì¬ìƒ ì‹œì‘
                    // FLV, RTMP ë“±ì€ ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì¬ìƒì´ ì•ˆë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ,
                    // SRSì˜ HLSë‚˜ WebRTCë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, í•´ë‹¹ ìŠ¤íŠ¸ë¦¼ì„ ì¬ìƒí•˜ëŠ” í”Œë ˆì´ì–´ í˜ì´ì§€ì˜ URLì„ ì—¬ê¸°ì— ë„£ì–´ì•¼ í•©ë‹ˆë‹¤.
                    srsStreamIframe.src = srsStreamUrl;
                    toggleStreamLink.textContent = 'ìŠ¤íŠ¸ë¦¼ ìˆ¨ê¸°ê¸°';
                } else {
                    // ìŠ¤íŠ¸ë¦¼ì´ ë³´ì´ë©´ ìˆ¨ê¹€
                    srsStreamIframe.style.display = 'none';
                    srsStreamIframe.src = ''; // iframe ì†ŒìŠ¤ ì´ˆê¸°í™” (ìŠ¤íŠ¸ë¦¼ ì¤‘ì§€)
                    toggleStreamLink.textContent = 'ìŠ¤íŠ¸ë¦¼ ë³´ê¸°';
                }
            });
        });
    </script>
</body>
</html>
